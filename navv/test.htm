<!DOCTYPE html>
<html>

<head>

	<title>Leaflet.Rainviewer - DEMO</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
	<link rel="stylesheet" type="text/css" href="../navv/rainviewer.css">
	<script type="text/javascript" src="../navv/rain.js"></script>
	

</head>

<body style="padding:0; margin:0">

	<div id="mapid" style="width: 100%; height: 100vh; padding:0"></div>
	<script>
		var mymap = L.map('mapid', {}).setView([51.505, 18.09], 6);

		// create the tile layer with correct attribution
		var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
		var osmAttrib = 'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors';
		var osm = new L.TileLayer(osmUrl, {
			minZoom: 6,
			maxZoom: 12,
			attribution: osmAttrib
		});
		mymap.addLayer(osm);

		var rainviewer = L.control.rainviewer({
			position: 'bottomleft',
			nextButtonText: '>',
			playStopButtonText: 'Start/Stop',
			prevButtonText: '<',
			positionSliderLabelText: "Time:",
			opacitySliderLabelText: "Opacity:",
			animationInterval: 500,
			opacity: 0.5
		});
		rainviewer.addTo(mymap);

		var mymap = L.map('mapid').setView([51.505, -0.09], 13);

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);

	L.marker([51.5, -0.09]).addTo(mymap)
		.bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();

	var popup = L.popup();

	function onMapClick(e) {
		popup
			.setLatLng(e.latlng)
			//.setContent("You clicked the map at " + e.latlng.toString())  //this.getLatLng() don't work
			.setContent("Sunset at " + L.sun.sunset(e.latlng))  //this.getLatLng() don't work
			.openOn(mymap);
	}

	mymap.on('click', onMapClick);

	// You can add the control via the settings object
	var map = L.map("map", {
        layers: [layer]
      }).setView([57.7, 11.9], 8);
	  new L.zoompanel().addTo(map);
	  
	</script>

</body>

</html>